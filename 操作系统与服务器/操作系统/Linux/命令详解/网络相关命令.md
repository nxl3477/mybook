
# 网络管理命令

## 1. 查看网络接口
> ifconfig

我的阿里云服务器显示的信息如下

![](../md_imgs/ifconfig.png)


上面出现的几个信息大致意思应该如下，现在还不太懂:

* `eth0` 是物理网卡， 这是默认名称， 在有些系统下是个不规则名称
* `lo` 是本地回环地址，不管操作系统有没有配置ip，`lo`是一定会有的， 如果没有说明出问题了




## 2. 网络配置工具箱
> ip

这个是centos > 6 以上才有的新命令

ip 是主命令， 配合其他自命令使用

### 查看网络地址
> ip addr

![](../md_imgs/ip.png)

它返回的内容和`ifconfig`有些类似， 都有网卡信息




## 3. 诊断网络

### route
> route 

功能很像`ping` 命令来诊断网络情况


![](../md_imgs/route.png)

查看你的默认网关是不是你的路由器， 这也是你上网的配置

![](../md_imgs/route-default.png)



ping命令相关:
* ttl： 是经过路由器的计数器， 每经过一个都 `-1` ,当超过64个那这个包就会被丢掉




### 对应列及含义

* Destination : 路由地址
* Gateway: 网关
* Genmask: 通过网关可以到达的网段，`0.0.0.0` 就是全网段
* Iface: 走得是啥网络接口， `eth0`的话就是物理网卡(配置文件一般在`etc/sysconfig/network-scripts/`)
  * 如果虚拟机网络不通， 很有可能是配置目录下`ifcfg-eth0`里的`ONBOOT` 参数没有改成`yes`



如果你又docker 之类的，就会出现很多虚拟网，所以就需要一个默认的配置



### traceroute
路由追踪， 能找到中间经过的路由器



## 4. 查看端口占用
* ss -an
* netstat

这两个命令用法差不多 ， 知识输出格式不一样


### 查找指定端口情况
> ss -anp | grep :22